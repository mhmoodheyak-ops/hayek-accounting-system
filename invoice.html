<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HAYEK SPOT — الحاسبة</title>

<style>
:root{
  --bg:#0b1f2a;
  --card:#122b3a;
  --accent:#1e90ff;
  --muted:#9fb6c6;
}
*{box-sizing:border-box;font-family:system-ui,Segoe UI,Tahoma}
body{
  margin:0;min-height:100vh;
  background:linear-gradient(135deg,#0b1f2a,#0f3a3f);
  color:#fff;
}
.overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.75);
  display:flex;align-items:center;justify-content:center;
  z-index:999;
}
.overlay.hidden{display:none}
.overlay .box{
  background:#111;padding:30px;border-radius:16px;
  text-align:center;max-width:320px
}
.app{
  max-width:900px;margin:40px auto;padding:20px
}
.card{
  background:var(--card);
  border-radius:18px;padding:20px;
  box-shadow:0 20px 60px rgba(0,0,0,.35)
}
h1{margin:0 0 10px}
label{font-size:13px;color:var(--muted)}
input{
  width:100%;padding:14px;border-radius:14px;
  border:none;margin:6px 0 16px;font-size:16px
}
input[readonly]{background:#0e2431;color:#7fa}
.table{
  width:100%;border-collapse:collapse;margin-top:10px
}
.table th,.table td{
  border-bottom:1px dashed #355;
  padding:8px;font-size:14px
}
.total{
  margin-top:12px;
  border:2px dashed #355;
  padding:12px;border-radius:12px;
  font-size:18px
}
.calc{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;margin-top:10px
}
.calc button{
  padding:18px;font-size:18px;
  border-radius:14px;border:none;
  background:#17394b;color:#fff
}
.calc button.op{background:#1f4f6b}
.calc button.eq{background:#1e90ff}
.actions{
  display:flex;gap:10px;margin-top:16px
}
.actions button{
  flex:1;padding:14px;border-radius:14px;
  border:none;font-size:15px
}
.pdf{background:#1e90ff;color:#fff}
.wa{background:#25d366;color:#000}
.footer{
  text-align:center;margin-top:10px;
  font-size:12px;color:#8aa
}
</style>
</head>

<body>

<!-- حماية مؤقتة (نفعّلها بالخطوة 2) -->
<div id="lock" class="overlay hidden">
  <div class="box">
    <h3>تسجيل الدخول مطلوب</h3>
    <p>غير مسموح تصفح الصفحة</p>
  </div>
</div>

<div class="app">
  <div class="card">
    <h1>حاسبة الحايك</h1>

    <!-- اسم الزبون -->
    <label>اسم الزبون (إجباري)</label>
    <input id="customer" placeholder="مثال: أبو علي">

    <!-- نص اختياري -->
    <label>نص السطر (اختياري)</label>
    <input id="textNote" placeholder="مثال: محارم">

    <!-- العملية -->
    <label>العملية الحسابية</label>
    <input id="expr" readonly placeholder="5+5">

    <!-- لوحة الأرقام -->
    <div class="calc">
      <button onclick="add('7')">7</button>
      <button onclick="add('8')">8</button>
      <button onclick="add('9')">9</button>
      <button class="op" onclick="add('/')">÷</button>

      <button onclick="add('4')">4</button>
      <button onclick="add('5')">5</button>
      <button onclick="add('6')">6</button>
      <button class="op" onclick="add('*')">×</button>

      <button onclick="add('1')">1</button>
      <button onclick="add('2')">2</button>
      <button onclick="add('3')">3</button>
      <button class="op" onclick="add('-')">−</button>

      <button onclick="clearExpr()">C</button>
      <button onclick="add('0')">0</button>
      <button class="eq" onclick="commit()">=</button>
      <button class="op" onclick="add('+')">+</button>
    </div>

    <!-- الجدول -->
    <table class="table">
      <thead>
        <tr><th>البيان</th><th>العملية</th><th>النتيجة</th></tr>
      </thead>
      <tbody id="rows"></tbody>
    </table>

    <div class="total">
      إجمالي الكشف: <strong id="sum">0</strong>
    </div>

    <div class="actions">
      <button class="pdf" onclick="exportPDF()">تصدير PDF</button>
      <button class="wa" onclick="sendWA()">إرسال واتساب</button>
    </div>

    <div class="footer">HAYEK SPOT</div>
  </div>
</div>

<script>
let total=0;

function add(v){
  document.getElementById('expr').value+=v;
}
function clearExpr(){
  document.getElementById('expr').value='';
}
function commit(){
  const name=document.getElementById('customer').value.trim();
  if(!name){alert('أدخل اسم الزبون');return;}
  const expr=document.getElementById('expr').value;
  if(!expr)return;
  let res;
  try{res=Function('return '+expr)()}catch(e){return}
  const note=document.getElementById('textNote').value;
  const tr=document.createElement('tr');
  tr.innerHTML=`<td>${note||'—'}</td><td>${expr}</td><td>${res}</td>`;
  document.getElementById('rows').appendChild(tr);
  total+=res;
  document.getElementById('sum').textContent=total;
  document.getElementById('expr').value='';
  document.getElementById('textNote').value='';
}
function exportPDF(){
  alert('PDF — سنفعّلها بالخطوة التالية');
}
function sendWA(){
  alert('واتساب — سنفعّلها بالخطوة التالية');
}
</script>

</body>
</html>
